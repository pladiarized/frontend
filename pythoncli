import os
import uuid
from src.models import db
from src import create_app
from src.models.UserModel import User
from src.models.BlogpostModel import Blogpost
from werkzeug.security import generate_password_hash
env_name = os.environ['FLASK_ENV']

with create_app(env_name).app_context():
    db.create_all()
    db.session.add(blogpost)
    db.session.commit()

blogpost5 = Blogpost(public_id = str(uuid.uuid4()), title = "Your Wonderful Article Title", content = '''{% extends "blogpost.html" %}{% block blogpost %}<p>Sed lobortis mi. Suspendisse vel placerat ligula. <span style="text-decoration: underline;">Vivamus</span> ac sem lac. Ut vehicula rhoncus elementum. Etiam quis tristique lectus. Aliquam in arcu eget velit pulvinar dictum vel in justo. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.</p><p>Praesent sed lobortis mi. Suspendisse vel placerat ligula. Vivamus ac lacus. <strong>Ut vehicula rhoncus</strong> elementum. Etiam quis tristique lectus. Aliquam in arcu eget velit <em>pulvinar dict</em> vel in justo. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.</p><h2>Aliquam In Arcu </h2><p>Suspendisse vel placerat ligula. Vivamus ac sem lac. Ut vehicula rhoncus elementum. Etiam quis tristique lectus. Aliquam in arcu eget velit pulvinar dictum vel in justo. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae.</p><p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae. Suspendisse vel placerat ligula. Vivamus ac sem lac. Ut vehicula rhoncus elementum. Etiam quis tristique lectus. Aliquam in arcu eget velit pulvinar dictum vel in justo.</p>{% endblock blogpost %}''', user_id="anu_radha")

hashed_password = generate_password_hash("password", method='sha256')
user = User(public_id = "anu_radha", email = "anu@blog.com", password = hashed_password, role='user+staff+superadmin')

db.session.add(blogpost)
db.session.commit()